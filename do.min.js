// version 1.0
(function(){var a=document,b=window,c={},d={},e=function(a){return a.constructor===Array},f={autoLoad:!0,coreLib:["http://t.douban.com/js/jquery.min.js"],mods:{}},g=a.getElementsByTagName("script"),h=g[g.length-1],i,j,k=[],l=!1,m=[],n=function(b,e,f,h,i){var j=g[0];if(b){if(c[b]){d[b]=!1,h&&h(b,i);return}if(d[b]){setTimeout(function(){n(b,e,f,h,i)},1);return}d[b]=!0;var k,l=e||b.toLowerCase().substring(b.lastIndexOf(".")+1);l==="js"?(k=a.createElement("script"),k.setAttribute("type","text/javascript"),k.setAttribute("src",b),k.setAttribute("async",!0)):l==="css"&&(k=a.createElement("link"),k.setAttribute("type","text/css"),k.setAttribute("rel","stylesheet"),k.setAttribute("href",b),c[b]=!0),f&&(k.charset=f);if(l==="css"){j.parentNode.insertBefore(k,j),h&&h(b,i);return}k.onload=k.onreadystatechange=function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")c[this.getAttribute("src")]=!0,h&&h(this.getAttribute("src"),i),k.onload=k.onreadystatechange=null},j.parentNode.insertBefore(k,j)}},o=function(a){if(a&&e(a)){var b=0,c,d=[],g=f.mods,h=[],i={},j=function(a){var b=0,c,d;if(i[a])return h;i[a]=!0;if(g[a].requires){d=g[a].requires;for(;typeof (c=d[b++])!=="undefined";)g[c]?(j(c),h.push(c)):h.push(c);return h}return h};for(;typeof (c=a[b++])!=="undefined";)g[c]&&g[c].requires&&g[c].requires[0]&&(h=[],i={},d=d.concat(j(c))),d.push(c);return d}},p=function(){l=!0,k.length>0&&(j.apply(this,k),k=[])},q=function(){a.addEventListener?a.removeEventListener("DOMContentLoaded",q,!1):a.attachEvent&&a.detachEvent("onreadystatechange",q),p()},r=function(){if(!l){try{a.documentElement.doScroll("left")}catch(c){return b.setTimeout(r,1)}p()}},s=function(){if(a.readyState==="complete")return b.setTimeout(p,1);var c=!1;if(a.addEventListener)a.addEventListener("DOMContentLoaded",q,!1),b.addEventListener("load",p,!1);else if(a.attachEvent){a.attachEvent("onreadystatechange",q),b.attachEvent("onload",p);try{c=b.frameElement===null}catch(d){}document.documentElement.doScroll&&c&&r()}},t=function(a){a&&e(a)&&(this.queue=a,this.current=null)};t.prototype={_interval:10,start:function(){var a=this;this.current=this.next();this.current?this.run():this.end=!0},run:function(){var a=this,b,c=this.current;typeof c==="function"?(c(),this.start()):typeof c==="string"&&(f.mods[c]?(b=f.mods[c],n(b.path,b.type,b.charset,function(b){a.start()},a)):/\.js|\.css/i.test(c)?n(c,"","",function(a,b){b.start()},a):this.start())},next:function(){return this.queue.shift()}},i=h.getAttribute("data-cfg-autoload"),typeof i==="string"&&(f.autoLoad=i.toLowerCase()==="true"?!0:!1),i=h.getAttribute("data-cfg-corelib"),typeof i==="string"&&(f.coreLib=i.split(",")),j=function(){var a=[].slice.call(arguments),b;m.length>0&&(a=m.concat(a)),f.autoLoad&&(a=f.coreLib.concat(a)),b=new t(o(a)),b.start()},j.add=function(a,b){a&&b&&b.path&&(f.mods[a]=b)},j.delay=function(){var a=[].slice.call(arguments),c=a.shift();b.setTimeout(function(){j.apply(this,a)},c)},j.global=function(){var a=[].slice.call(arguments);m=m.concat(a)},j.ready=function(){var a=[].slice.call(arguments);if(l)return j.apply(this,a);k=k.concat(a)},j.css=function(b){var c=a.getElementById("do-inline-css");c||(c=a.createElement("style"),c.type="text/css",c.id="do-inline-css",g[0].parentNode.insertBefore(c,g[0])),c.styleSheet?c.styleSheet.cssText=c.styleSheet.cssText+b:c.appendChild(a.createTextNode(b))},f.autoLoad&&j(f.coreLib),this.Do=j,s()})()