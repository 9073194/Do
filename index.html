<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link type="text/css" rel="stylesheet" href="assets/shCore.css">
    <link type="text/css" rel="stylesheet" href="assets/shThemeEclipse.css">
    <script type="text/javascript" src="js/do.min.js" data-cfg-corelib="http://img3.douban.com/js/packed_jquery.min2.js"></script>
    <style type="text/css">
        body { font:14px/1.8 arial,sans-serif; }
        h1 { font-size:12px;color:#666; }
        h1 b{ margin-right:10px;font-size:64px;letter-spacing:-10px;color:#289942; }
        h2 { font-size:16px;margin:0; }
        img { border:0; }
        .bd { margin:0 20px; }
        .code { margin-bottom:2em; }
        #demo3 a { display:inline-block;margin:0 1em;vertical-align:top; }
    </style>
</head>
<body>
    
    <h1><b>Do</b>轻量级Javascript开发框架</h1>
    
    <div class="bd">
        
    <h2>使用方法: 只需要在head里引入do.js文件</h2>
    
        <div class="code">
        <script type="syntaxhighlighter" class="brush:js">
        <script src="../do.min.js">&lt;/script> (3.5k)
        </script>
        </div>  
        
    
    <h2>Demo 1: 执行inline script</h2>
    
    <div id="demo1" class="mod">
        <a href="#">Click Here.</a>
    </div>
    
    <div class="code">
    <script type="syntaxhighlighter" class="brush:js">
    Do(function(){
        $('#demo1 a').click(function(e){
            e.preventDefault();
            $(this).animate({fontSize: '24px', fontWeight: 800}, 1000).fadeOut(1000);
        });
    });
    </script>
    </div>
    
    
    <h2>Demo 2: 依赖外部文件</h2>
    <div id="demo2" class="mod">
        <a href="#" title="鼠标悬浮这里会看到一个提示框">Mouseover Here.</a>
    </div>
    
    <div class="code">
    <script type="syntaxhighlighter" class="brush:js">
    Do('js/tip.js', function(){
        $('#demo2 a').simpleTip();
    });
    </script>
    </div>
    
    <h2>Demo 3: 依赖模块方式</h2>
    
    <div id="demo3" class="mod">
        <a href="http://i1.sinaimg.cn/ent/y/p/2008-10-26/U1819P28T3D2221584F326DT20081026023532.jpg" title="痛仰"><img src="http://i1.sinaimg.cn/ent/y/p/2008-10-26/U1819P28T3D2221584F326DT20081026023532.jpg" width="100" alt=""></a>
        <a href="http://l.yimg.com/k/im_siggnQGSdr0VqjCQpC.ABw.gYw---y526-x620-q75-n1/ygrammys/us/img/65/17/1876714805_13050152561.jpg" title="RB2156"><img src="http://l.yimg.com/k/im_siggj2toHESF0YSrOK.01_cV7g---x75-xc1-yc1-wc500-hc500-q75-n0/ygrammys/us/img/65/17/1876714805_13050152561.jpg" alt="Nominees: Best Rock Album"></a>
        <a href="http://l.yimg.com/k/im_siggDVgPxPixvlQV4MVirM_uYg---y526-x620-q75-n0/ygrammys/us/img/6f/ff/2250599110_2821831301.jpg" title="RB2156"><img src="http://l.yimg.com/k/im_sigg.sEc0qmHe3anrdn1at7Ayw---x75-xc1-yc1-wc500-hc500-q75-n0/ygrammys/us/img/6f/ff/2250599110_2821831301.jpg" alt="Nominees: Best Alternative Music Album"></a>
    </div>
    
    <div class="code">
    <script type="syntaxhighlighter" class="brush:js">
        // 添加模块
        Do.add('lightBox-css', {path: '{URL}', type: 'css'});
        Do.add('lightBox', {path: '{URL}', type: 'js', requires: ['lightBox-css']});

        // 引用模块
        Do('lightBox', function(){
            $('#demo3 a').lightBox({
                imageLoading:           'assets/lightbox-ico-loading.gif',
                imageBtnPrev:           'assets/lightbox-btn-prev.gif',
                imageBtnNext:           'assets/lightbox-btn-next.gif',
                imageBtnClose:          'assets/lightbox-btn-close.gif',
                imageBlank:             'assets/lightbox-blank.gif'
            });
        });
    </script>
    </div>


    <h2>Demo 4: 在DOMReay执行</h2>
    
    <div class="code">
    如果要确保顺利操作页面上的任意结点，最好使用ready方法，让队列在DOMReady后执行，当然这样会比直接用Do延后一些执行。
    <script type="syntaxhighlighter" class="brush:js">
    Do.ready('dialog', function() {
        var dlg = dui.Dialog({
             content: 'hi, 在ready触发队列执行是一种更稳妥的选择. <pre>  Do.ready(your queue...)</pre>', 
             buttons: ['confirm'],
             width: 400
        }).open();
        setTimeout(function(){
          dlg.update();
        }, 0);
    });
    </script>
    </div>

  
    <h2>Demo 5: Delay执行</h2>
    
    <div class="code">
    有些JS不那么着急执行，不妨delay一段时间后再执行。比如：预加载一些东西。
    <script type="syntaxhighlighter" class="brush:js">
    Do.delay(2000, function() {
      (new Image()).src = 'URL';
      (new Image()).src = 'URL';
      (new Image()).src = 'URL';
    });
    </script>
    </div>
      


  
    <h2>Demo 6: 附件组件特殊的CSS</h2>
    
    <div class="code">
      虽然不鼓励这么干，但有些时候的确有这样的需求。
    <script type="syntaxhighlighter" class="brush:js">
    Do.css([
        '.dui-dialog .hd h3 { margin:0; }',
        '.dui-dialog-close:link { text-decoration:none; }'
    ].join(''));
    </script>
    </div>
      

    <h2>Demo 7: 声明全局模块</h2>
    
    <div class="code">
    声明了全局模块，后面的队列会默认先加载全局模块。在实际应用中，不要滥用只声明必要的，因为这会让队列变得复杂。
    <script type="syntaxhighlighter" class="brush:js">
    Do.global('dialog');
    </script>
    </div>
      



    
    <script type="text/javascript" src="assets/shCore.js"></script>
    <script type="text/javascript" src="assets/shBrushJScript.js"></script>


    <script type="text/javascript">

    SyntaxHighlighter.all();

    // demo code.
    Do.add('lightBox-css', {path: 'http://leandrovieira.com/projects/jquery/lightbox/css/jquery.lightbox-0.4.css', type: 'css'});
    Do.add('lightBox', {path: 'http://leandrovieira.com/projects/jquery/lightbox/js/jquery.lightbox-0.4.js', type: 'js', requires: ['lightBox-css']});
    Do.add('dialog-css', {path: 'http://img3.douban.com/css/ui/packed_dialog1.css', type: 'css'});
    Do.add('dialog', {path: 'http://img3.douban.com/js/ui/packed_dialog5.js', type: 'js', requires: ['dialog-css']});

    Do.global('dialog');
    
    
    Do(function(){
        $('#demo1 a').click(function(e){
            e.preventDefault();
            $(this).animate({fontSize: '24px', fontWeight: 800}, 1000).fadeOut(1000);
        });
    });
    
    Do('js/tip.js', function(){
        $('#demo2 a').simpleTip();
    });
    
    Do('lightBox', function(){
        $(document).ready(function(){
        $('#demo3 a').lightBox({
            imageLoading:           'assets/lightbox-ico-loading.gif',
            imageBtnPrev:           'assets/lightbox-btn-prev.gif',
            imageBtnNext:           'assets/lightbox-btn-next.gif',
            imageBtnClose:          'assets/lightbox-btn-close.gif',
            imageBlank:             'assets/lightbox-blank.gif'
        });
        
      });
    });

    Do.css([
        '.dui-dialog .hd h3 { margin:0; }',
        '.dui-dialog-close:link { text-decoration:none; }'
    ].join(''));

    Do.ready(function() {
        var dlg = dui.Dialog({
             content: 'hi, 在ready触发队列执行是一种更稳妥的选择. <pre>  Do.ready(your queue...)</pre>', 
             buttons: ['confirm'],
             width: 400
        }).open();
        setTimeout(function(){
          dlg.update();
          dlg.node.find(':button').focus();
        }, 0);
    });

    Do.delay(2000, function() {
      (new Image()).src = 'http://l.yimg.com/k/im_siggnQGSdr0VqjCQpC.ABw.gYw---y526-x620-q75-n1/ygrammys/us/img/65/17/1876714805_13050152561.jpg';
      (new Image()).src = 'http://l.yimg.com/k/im_siggDVgPxPixvlQV4MVirM_uYg---y526-x620-q75-n0/ygrammys/us/img/6f/ff/2250599110_2821831301.jpg';
      (new Image()).src = 'http://i1.sinaimg.cn/ent/y/p/2008-10-26/U1819P28T3D2221584F326DT20081026023532.jpg';
    });
    </script>
</body>
</html>
